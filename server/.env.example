# SAP Business Management System - Environment Variables
# SECURITY: Never commit .env file with real values to version control!

# ============================================
# DATABASE CONFIGURATION - REQUIRED
# ============================================
# MongoDB Atlas connection string
# Get from: MongoDB Atlas → Clusters → Connect → Connect your application
MONGODB_URL=mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority

# ============================================
# JWT AUTHENTICATION - CRITICAL SECURITY
# ============================================
# Generate strong secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# NEVER use default in production!
JWT_SECRET=your-super-secret-jwt-key-min-32-characters-recommended-64-chars

# ============================================
# EMAIL CONFIGURATION - Gmail SMTP
# ============================================
# Sender email address
EMAIL_USER=saptechnologies256@gmail.com

# Gmail App Password (16 characters, no spaces)
# Create at: https://myaccount.google.com/apppasswords
# Requires 2-Factor Authentication enabled
# IMPORTANT: Use App Password, NOT your regular Gmail password!
EMAIL_PASSWORD=your-gmail-app-password-here

# Email Configuration Notes:
# - Port 465 (SSL) is tried first - most reliable on hosting platforms
# - Port 587 (STARTTLS) is used as fallback
# - If emails still fail on Render/Heroku, consider alternatives:
#   * SendGrid (sendgrid.com) - Free tier: 100 emails/day
#   * Mailgun (mailgun.com) - Free tier: 5,000 emails/month
#   * AWS SES (aws.amazon.com/ses) - Paid but very reliable
# - Some hosting platforms block SMTP ports for security

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=9000
NODE_ENV=production

# Client URL for CORS and email links
CLIENT_URL=https://sap-business-management-system.vercel.app

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=https://sap-business-management-system.vercel.app,http://localhost:5173

# ============================================
# SECURITY SETTINGS
# ============================================
# Session timeout (milliseconds) - 24 hours = 86400000
SESSION_TIMEOUT=86400000

# Maximum login attempts before lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration (minutes)
LOCKOUT_DURATION=15

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ============================================
# FILE UPLOAD
# ============================================
MAX_FILE_SIZE=5mb
ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,image/gif,image/webp

# ============================================
# SETUP INSTRUCTIONS
# ============================================
# 1. Copy to .env: cp .env.example .env
# 2. Update MONGODB_URL with your cluster details
# 3. Generate strong JWT_SECRET
# 4. Create Gmail App Password for EMAIL_PASSWORD
# 5. Update CLIENT_URL for production
# 6. NEVER commit .env to Git!
